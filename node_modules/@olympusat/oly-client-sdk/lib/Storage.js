'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Storage = Storage;
/**
 * Handles interfacing with Storage functionality ie. token setting/retrieval in browser
 */
function Storage() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var set = function set(name) {
    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    localStorage.setItem(name, JSON.stringify(data));
  };

  var get = function get(name) {
    var parsedData = localStorage.getItem(name);

    try {
      parsedData = JSON.parse(parsedData);
    } catch (e) {}

    return parsedData;
  };

  /**
   * Only clear our olyauth keys
   * @param {*} name 
   * @param {*} data 
   */
  var clear = function clear(name, data) {
    return Object.keys(localStorage).forEach(function (key) {
      return key.indexOf('olyauth.') > -1 ? localStorage.removeItem(key) : false;
    });
  };

  var remove = function remove(name) {
    localStorage.removeItem(name);
  };

  return {
    set: set,
    get: get,
    clear: clear,
    remove: remove
  };
}